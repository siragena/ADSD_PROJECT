{% extends "base.html" %}

{% block content %}
  <h2>Shifts</h2>

  <p><a href="{{ url_for('add_shift') }}">Add New Shift</a></p>

  <table border="1" cellpadding="8">
    <tr>
      <th>Date</th>
      <th>Start</th>
      <th>End</th>
      <th>Employer</th>
      <th>Assigned Position</th>
      <th>Actions</th>
    </tr>

    {% for s in shifts %}
    <tr>
      <td>{{ s.date }}</td>
      <td>{{ s.start_time }}</td>
      <td>{{ s.end_time }}</td>
      <td>{{ s.employer.name }}</td>
      <td>{{ s.notes }}</td>
      <td>
        <a href="{{ url_for('edit_shift', shift_id=s.id) }}">Edit</a>
        |
        <form action="{{ url_for('delete_shift', shift_id=s.id) }}"
              method="POST"
              style="display:inline">
          <button type="submit" onclick="return confirm('Delete this shift?');">
            Delete
          </button>
        </form>
      </td>
    </tr>
    {% else %}
    <tr><td colspan="6">No shifts yet.</td></tr>
    {% endfor %}
  </table>
{% endblock %}
